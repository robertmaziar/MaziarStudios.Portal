@{
    ViewData["Title"] = "Home Page";
}

<link href='~/fullcalendar/core/main.css' rel='stylesheet' />
<link href='~/fullcalendar/daygrid/main.css' rel='stylesheet' />

<script src='~/fullcalendar/core/main.js'></script>
<script src='~/fullcalendar/daygrid/main.js'></script>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        var calendarEl = document.getElementById('calendar');

        var calendar = new FullCalendar.Calendar(calendarEl, {
            plugins: ['dayGrid'],
            eventSources: [
                {
                    url: '@Url.Action("GetAllEvents", "Events")',
                    //color: 'yellow',    // an option!
                    //textColor: 'black'  // an option!
                }
            ],
            eventClick: function (info) {
                var protocol = window.location.protocol;
                var hostname = window.location.hostname;
                var port = window.location.port;
                var url = '';

                if (port != null && port != undefined) {
                    url = protocol + '//' + hostname + ':' + port + '@Url.Action("Details", "Events")?id=' + info.event.id;
                }
                else {
                    url = protocol + '//' + hostname + '@Url.Action("Details", "Events")?id=' + info.event.id;
                }

                window.location = url;
                // change the border color just for fun
                info.el.style.borderColor = 'red';
            }
        });

        calendar.render();
    });
</script>

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about <a href="https://docs.microsoft.com/aspnet/core">building Web apps with ASP.NET Core</a>.</p>

    <div id='calendar'></div>
</div>
